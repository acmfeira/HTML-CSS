<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/medias.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <main>
        <article id="container-login">
            <form action="#" id="form">
                <fieldset>
                    <legend><h2>Registration</h2></legend>
                    <div class="childItens">
                        <div class="sep">
                            <label for="firstName">Fist Name:</label>
                            <input type="text" name="firstName" id="firstName" required class="inputBox">
                        </div>
                        <div class="sep">
                            <label for="lastName">Last Name:</label>
                            <input type="text" name="lastName" id="lastName" required class="inputBox">
                        </div>
                        <div class="sep">
                            <label for="address">Address:</label>
                            <input type="text" name="address" id="address" required class="inputBox">
                        </div>
                        <div class="sep">
                            <label for="cpf">CPF:</label>
                            <input type="number" name="cpf" id="cpf" required class="inputBox">    
                        </div>
                        <div class="sep">
                            <label for="birthDate">Birth Date:</label>
                            <input type="date" name="birthDate" id="birthDate" required class="inputBox">    
                        </div>
                        
                        <div class="buttons">
                            <input type="button" id="submit" value="Submit" >
                            <input type="reset" value="Reset">    
                        </div>
                </div>
                </fieldset>
            </form>
        </article>
    </main>
    <script>
        //on click button submit
        $('#submit').click(function(){
            $.post('./db.php',$('form').serialize(), function(data,status){
                
                let mess = !data ? 'User CPF existent \n Add another CPF' : 'Success!!!!\nWelcome to...';
                alert(mess);
                
                //clear form data!!
                resetItems();

            })
        })

        let resetItems = ()=>{
            $('.inputBox').val(null)
            $('#firstName').focus()
        }

        $(document).ready(function(){
            resetItems()
        })
    </script>
</body>
</html>